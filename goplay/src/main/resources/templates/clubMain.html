<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta name="description" content="">
      <meta name="author" content="">

      <meta name="_csrf_header" th:content="${_csrf.headerName}">
      <meta name="_csrf" th:content="${_csrf.token}">

      <link rel="icon" type="image/png" href="img/fav.png">
      <title>동호회 커뮤니티</title>
      <!-- Slick Slider -->
      <link rel="stylesheet" type="text/css" href="vendor/slick/slick.min.css"/>
      <link rel="stylesheet" type="text/css" href="vendor/slick/slick-theme.min.css"/>
      <!-- Feather Icon-->
      <link href="vendor/icons/feather.css" rel="stylesheet" type="text/css">
      <!-- Bootstrap core CSS -->
      <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
      <!-- Custom styles for this template -->
      <link href="css/style.css" rel="stylesheet">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css">
      <!— Popperjs —>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.2/dist/umd/popper.min.js"
              crossorigin="anonymous"></script>
      <!— Tempus Dominus JavaScript —>
      <script src="https://cdn.jsdelivr.net/gh/Eonasdan/tempus-dominus@master/dist/js/tempus-dominus.js"
              crossorigin="anonymous"></script>

      <!— Tempus Dominus Styles —>
      <link href="https://cdn.jsdelivr.net/gh/Eonasdan/tempus-dominus@master/dist/css/tempus-dominus.css"
            rel="stylesheet" crossorigin="anonymous">

      <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
            rel="stylesheet">
      <link href="css/calendar.css" rel="stylesheet">
      <script src="js/navBar.js"></script>
   </head>
   <script
           src="https://code.jquery.com/jquery-3.5.1.min.js"
           integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
           crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
   <script type="text/javascript" src="js/club_calendar.js"></script>
   <script type="text/javascript">
   $(function(){
      let clubManager ="";
      //로그인 한 ID가져오기
      let currentid = 'null'; //로그인 한 id
      $.ajax({
         url: "/loginMemberID",
         success: function (data) {
            currentid = data
            console.log("로그인 아이디: ", currentid)
         }
      });

      //달력
      new tempusDominus.TempusDominus(document.getElementById('datetimepicker1'), {
         display: {
            components: {
               seconds: false,
               useTwentyfourHour: false,
            },
            icons: {
               type: 'icons',
               time: 'fa fa-solid fa-clock',
               date: 'fa fa-solid fa-calendar',
               up: 'fa fa-solid fa-arrow-up',
               down: 'fa fa-solid fa-arrow-down',
               previous: 'fa fa-solid fa-chevron-left',
               next: 'fa fa-solid fa-chevron-right',
               today: 'fa fa-solid fa-calendar-check',
               clear: 'fa fa-solid fa-trash',
               close: 'fas fa-solid fa-xmark'
            },
         },
      });

	 //게시글 동적 생성
      let boardContent;
      function boardContentAdd(data){
         //console.log(data)
         var newbDate = data.bdate.substring(0,19).replace("T", " ");

         //if문은 img가 null일 경우와 null이 아닐 경우를 위해 각각 동작하도록 하기 위함
         if(data.bimg == null){
            boardContent = $("#profile").append($("<div></div").addClass("box shadow-sm border rounded bg-white mb-3 osahan-post")
                    .append($("<div></div>").addClass("p-3 d-flex align-items-center border-bottom osahan-post-header")
                            .append($("<div></div>").addClass("dropdown-list-image mr-3")
                                    //.append("<img src='/display?fileName="+data.bimg+"' style='width: 100%' class='rounded-circle'>")
                                    .append($("<img></img>").addClass("rounded-circle").attr("src", "img/p5.png"))
                                    .append($("<div></div>").addClass("status-indicator bg-success"))
                            )
                            .append($("<div></div>").addClass("font-weight-bold")
                                    .append($("<div></div>").addClass("text-truncate").html(data.id))
                                    .append($("<div></div>").addClass("small text-gray-500").html(data.btitle)))
                            .append($("<span></span>").addClass("ml-auto small").html(newbDate)))

                    .append($("<div></div>").addClass("p-3 border-bottom osahan-post-body")
                            .append($("<p></p>").addClass("mb-0").html(data.bcontent))
                    )

                    .append($("<div></div>").addClass("p-3 border-bottom osahan-post-footer box shadow-sm border rounded bg-white mb-3 osahan-post")
                            .append($("<a></a>").addClass("mr-3 text-secondary")
                                    .append("<i></i>").addClass("feather-message-square").html("댓글").addClass("replyBtn").attr("bNo",data.bno))
                            .append($("<div></div>").attr({"idx":data.bno, "id":"replyMain"}).css({"cursor":"pointer"}))))//빈 값(댓글이 나중에 여기 들어가야함.)
         }
         else{
            boardContent = $("#profile").append($("<div></div").addClass("box shadow-sm border rounded bg-white mb-3 osahan-post")
                    .append($("<div></div>").addClass("p-3 d-flex align-items-center border-bottom osahan-post-header")
                            .append($("<div></div>").addClass("dropdown-list-image mr-3")
                                    //.append("<img src='/display?fileName="+data.bimg+"' style='width: 100%' class='rounded-circle'>")
                                    .append($("<img></img>").addClass("rounded-circle").attr("src", "img/p5.png"))
                                    .append($("<div></div>").addClass("status-indicator bg-success"))
                            )
                            .append($("<div></div>").addClass("font-weight-bold")
                                    .append($("<div></div>").addClass("text-truncate").html(data.id))
                                    .append($("<div></div>").addClass("small text-gray-500").html(data.btitle)))
                            .append($("<span></span>").addClass("ml-auto small").html(newbDate)))

                    .append($("<div></div>").addClass("p-3 border-bottom osahan-post-body")
                            .append($("<p></p>").addClass("mb-0").html(data.bcontent))
                            .append("<img src='/display?fileName="+data.bimg+"' style='width: 100%' >") //게시글 내용 이미지
                    )

                    .append($("<div></div>").addClass("p-3 border-bottom osahan-post-footer box shadow-sm border rounded bg-white mb-3 osahan-post")
                            .append($("<a></a>").addClass("mr-3 text-secondary")
                                    .append("<i></i>").addClass("feather-message-square").html("댓글").addClass("replyBtn").attr("bNo",data.bno))
                            .append($("<div></div>").attr({"idx":data.bno, "id":"replyMain"}).css({"cursor":"pointer"}))))//빈 값(댓글이 나중에 여기 들어가야함.)
         }
    }


      var replyContainer; // next()로 댓글이 담길 div가 담겨있음
	 //댓글 생성
	 //var allReply;
	 function boardReplyAdd(data, bNo){
        if(data.rdate !== null){
           var newRdate = data.rdate.substring(0,19).replace("T", " ");
        }
		$(replyContainer).css("padding-top", 20)
                .append($("<div></div>").addClass("box mb-0 shadow-sm border rounded bg-white osahan-post")
				 	.append($("<div></div>").addClass("p-3 d-flex align-items-top border-bottom osahan-post-comment")
				 		.append($("<div></div>").addClass("dropdown-list-image mr-3")
				 				.append($("<img></img>").addClass("rounded-circle").attr("src","img/p7.png"))
                               // .append("<img src='/display?fileName="+data.bimg+"' style='width: 100%' class='rounded-circle'>")
				 				.append($("<div></div>").addClass("status-indicator bg-success"))
				 		)
				 		.append($("<div></div>").addClass("font-weight-bold").css({"width":"100%"})
				 				.append($("<div></div>").addClass("text-truncate").html(data.id+" ")
                                        .append($("<span></span>").addClass("ml-auto small").html(newRdate).css({"float":"right"})))
                                .append($("<div></div>").addClass("small text-gray-500").html(data.rcontent))
                                )
				 		)
				 	)
	 }


	//댓글 입력하는 comment창
	function replyComment(){
       $(replyContainer).append($("<div></div>").addClass("p-3 bg-white box mb-0 shadow-sm border rounded bg-white osahan-post")
               .attr({"id":"commentAddBtn"})
               //.append($("<textarea></textarea>")
               .append($("<textarea style='resize: none')></textarea>")
                       .addClass("form-control border-0 p-0 shadow-none ")
                       .attr({"placeholder": "Add Comment...","rows":2, "id":"commentInputBox"}))
               .append("<button type='button' class='btn btn-primary btn-sm' id='replyAddBtn' style='float:right;margin-right:-15px;margin:-15px'>댓글 작성</button>"))

       if (joinMID !=1 && joinID !=1){
          $("#commentAddBtn").hide();
       }
	 }
	   //최초로 경기일정 띄우기
	   //schMatchBtn();
	   $.ajax({
		   url:"/getClubProfileResult",
           async: false,
		   success:function(data){
              if (data[0].cimg===null){
                 data[0].cimg="noimageClub.png";
              }
				//$("#cImg").html(data[0].cimg);
				$("#cImg").append("<img src='/display?fileName="+data[0].cimg+"' style='width: 100%' >")
				$("#cName").html(data[0].cname);
				$("#cIntro").html(data[0].ctype);
				$("#cLoc1").html(data[0].cloc1 +" "+ data[0].cloc2);
				$("#memberCount").html(data[0].memberCount +"명");
                winVar = data[0].win
                drawVar = data[0].draw
                loseVar = data[0].lose
                //승, 무, 패 가 존재하지 않을 경우 0으로 치환
                if (winVar==null){
                   winVar = 0;
                }
                if (drawVar==null){
                   drawVar = 0;
                }
                if (loseVar==null){
                   loseVar = 0;
                }
				$("#winDrawLose").html(data[0].recordCount +"전 "
						+ winVar +"승 "
						+ drawVar +"무 "
						+ loseVar +"패");
				$("#cid").html(data[0].id);
				$("#cIntro").html(data[0].cintro + "<br>많이 가입 해주세요.");

                //동호회장 ID
                clubManager=data[0].id;
		   }
	   })

      // 댓글 입력 창 숨기기 위한 flag 값
      // 1 == 비 동호회원 일 경우에 hide
      let currentStateReply =0;
      let noJoinID=0;
      let joinID=0;
      let joinMID=0;
      //동호회원 목록 출력
      $.ajax({
         url:"/findClubMemberCno",
         success:function(data){
            $.each(data, function(){
               if (this.mimg===null){
                  this.mimg="noimage.png";
               }
               var newbBirth_date = this.birth_date.substring(0,11).replace("T", " ");

               //if문 = 동호회원 뿌릴 때 동호회장 일 경우 닉네임 옆에 이미지추가(동호회장을 나타냄)
               if(this.id==clubManager){
                  $("#retro-comments")
                          .append($("<div></div>").addClass(("reviews-members"))
                                  .append($("<div></div>").addClass("media")
                                          .append($("<div></div>")
                                                  .append("<img src='/display?fileName="+this.mimg+"' style='width: 50px;height: 50px' >").addClass("mr-3")
                                          )
                                          .append($("<div></div>").addClass("media-body")
                                                  .append($("<div></div>").addClass("reviews-members-header")
                                                          .append($("<h6></h6>").addClass("mb-1").html(this.nickname).css("display","inline-block"))
                                                          .append($("<i></i>").addClass("feather-check-circle text-info")))
                                                  .append($("<div></div>").addClass("reviews-members-body")
                                                          .append($("<p></p>").html("성별: " + this.gender))
                                                          .append($("<p></p>").html("휴대전화: " + this.phone))
                                                          .append($("<p></p>").html("이메일: " + this.email))
                                                          .append($("<p></p>").html("생년월일:" + newbBirth_date))
                                                  ))
                                  )
                          )
               }
               else{
                  $("#retro-comments")
                          .append($("<div></div>").addClass(("reviews-members"))
                                  .append($("<div></div>").addClass("media")
                                          .append($("<div></div>")
                                                  .append("<img src='/display?fileName="+this.mimg+"' style='width: 50px;height: 50px' >").addClass("mr-3")
                                          )
                                          .append($("<div></div>").addClass("media-body")
                                                  .append($("<div></div>").addClass("reviews-members-header")
                                                          .append($("<h6></h6>").addClass("mb-1").html(this.nickname)))
                                                  .append($("<div></div>").addClass("reviews-members-body")
                                                          .append($("<p></p>").html("성별: " + this.gender))
                                                          .append($("<p></p>").html("휴대전화: " + this.phone))
                                                          .append($("<p></p>").html("이메일: " + this.email))
                                                          .append($("<p></p>").html("생년월일:" + newbBirth_date))
                                                  ))
                                  )
                          )
               }

               //로그인 한 아이디가 동호회장일 경우
               //동호회 관리 버튼, 게시글 쓰기 활성화

               if(currentid==clubManager){
                  console.log("회장일 경우")
                  joinMID=1;
               }
               //로그인 한 아이디가 동호회원일 경우
               //동호회 탈퇴 버튼, 게시글 쓰기 활성화
               else if(currentid==this.id){
                 console.log("동호회원일 경우")
                  joinID=1;
               }
               // 로그인 한 아이디가 회원도 아니고 회장도 아닌 일반회원
               // 동호회 가입하기만 활성화
               else {
                  console.log("미가입 일반 회원일 경우")
                  noJoinID=1;
               }
               console.log("currentid  ", currentid)
               console.log("this.id  ", this.id)
               console.log("clubManager  ", clubManager)
            })

            if(joinMID==1){
               //회장일 경우
               console.log("joinMID " , joinMID)
               $("#clubSetting").show();
               $("#clubJoinBtn").hide();
               $("#clubOutBtn").hide();
               $("#insertMainDiv").show();
               $("#commentAddBtn").show();
            }else if(joinID==1){
               //일반 회원의 경우
               console.log("joinID " , joinID)
               $("#clubSetting").hide();
               $("#clubJoinBtn").hide();
               $("#clubOutBtn").show();
               $("#insertMainDiv").show();
               $("#commentAddBtn").show();
            }else {
               //비가입 회원
               console.log("noJoinID " , noJoinID)
               $("#clubSetting").hide();
               $("#clubJoinBtn").show();
               $("#clubOutBtn").hide();
               $("#insertMainDiv").hide();
               $("#commentAddBtn").hide();
            }
         }

      })



      //게시글 불러오기
	   $.ajax({
		   url:"/listBoardAllCno",
		   async: false,
		   success:function(data){
			   $.each(data['content'],function(){
				   boardContentAdd(this);
 			   })
		   }
	   })

      //행사-매치 일정 띄우기
      schMatchBtn();
      schMeetBtn();
      //매치 일정 확인 버튼
      function schMatchBtn(){
         $("#scheduleTable").empty();
         $.ajax({
            url:"/listMatchCno",
            type: "POST",
            beforeSend: function (jqXHR, settings) {
               let header = $("meta[name='_csrf_header']").attr("content");
               let token = $("meta[name='_csrf']").attr("content");
               jqXHR.setRequestHeader(header, token);
            },
            success:function(data){
               $.each(data['content'],function(){
                  var newMbDate = (this.mbDate.toString()).substring(0,19).replace("T", " ");
                  $("#scheduleTable")
                          .append($("<tr></tr>")
                                  .append($("<td></td>").attr("scope","row").html("경기"))
                                  .append($("<td></td>").html(newMbDate))
                                  .append($("<td></td>").html(this.awaySay))
                                  .append($("<td></td>").html(this.mbStadium))
                                  .append($("<td></td>").html(this.mbStat))
                                  )
               })
            }
         })
      }

      //행사일정 확인버튼
      function schMeetBtn(){
         $("#scheduleTable").empty();
         $.ajax({
            url:"/listBoardSch",
            type: "POST",
            beforeSend: function (jqXHR, settings) {
               let header = $("meta[name='_csrf_header']").attr("content");
               let token = $("meta[name='_csrf']").attr("content");
               jqXHR.setRequestHeader(header, token);
            },
            success:function(data){
               $.each(data['content'],function(){
                  var newSchDate = this.schDate.substring(0,19).replace("T", " ");
                  $("#scheduleTable")
                          .append($("<tr></tr>")
                                  .append($("<td></td>").attr("scope","row").html("행사"))
                                  .append($("<td></td>").attr("scope","row").html(newSchDate))
                                  .append($("<td></td>").html(this.bcontent))
                                  .append($("<td></td>").html(this.schPlace))
                                  .append($("<td></td>").html("-"))
                                  )
               })
            }
         })
      }

      //동호회 가입
      $(document).on("click", "#clubJoin", function(){
            $.ajax({
               url:"/clubJoin",
               data:{"currentid": currentid},
               success:function(data){
                  //console.log(data);
                  window.location.reload();
               }
            })

      })
      //동호회 탈퇴
      $(document).on("click", "#clubOut", function(){
            $.ajax({
               url:"/clubDeleteSingle",
               data:{"currentid": currentid},
               success:function(data){
                  //console.log(data);
                  window.location.reload();
               }
            })
      })

      //게시글 - 행사등록 버튼 누를때마다 보이기/숨기기
      $("#datetimepicker1").hide();
      $("#placeInput").hide();
      $(document).on("click", "#schNomalAddBtn", function(){
         //console.log("schNomalAddBtn");
         $("#datetimepicker1").hide();
         $("#placeInput").hide();
      })
      $(document).on("click", "#schMeetAddBtn", function(){
         //console.log("schMeetAddBtn");
         $("#datetimepicker1").show();
         $("#placeInput").show();
      })

      $(document).on("click", "#replyAddBtn", function(){
         let textAreaValue = $(this).prev().val() //textarea 영역 - 댓글 입력 창
         let nowBoardNum = $(this).parent().parent().attr("idx") // 현재 게시글 번호
         //console.log(textAreaValue)
        //console.log(nowBoardNum)
         $.ajax({
            url:"/addReply",
            type: "POST",
            async: false,
            data:{"currentid": currentid,
                  "textAreaValue": textAreaValue,
                  "nowBoardNum": nowBoardNum},
            beforeSend: function (jqXHR, settings) {
               let header = $("meta[name='_csrf_header']").attr("content");
               let token = $("meta[name='_csrf']").attr("content");
               jqXHR.setRequestHeader(header, token);
            },
            success:function(){

               //작성한 댓글 실시간으로 화면에 반영하기 위한 함수
               replyBtnStick(nowBoardNum);
            }
         })
      })

      //경기정보
      $(document).on("click", "#schMatch", function(){
        $("#scheduleTable").empty();
         schMatchBtn();
      })

      //행사정보
      $(document).on("click", "#schMeet", function(){
         $("#scheduleTable").empty();
         schMeetBtn();
      })


      //댓글 작성 후 바로 화면에 반영하기 위한 함수
      function replyBtnStick(nowBoardNum){
         $(replyContainer).empty();
         $.ajax({
            url:"/listReply?&bNo="+nowBoardNum,
            async: false,
            success:function(data1){
               $.each(data1,function(){
                  boardReplyAdd(this, nowBoardNum);
               })
            }
         })
         //댓글 입력 창을 댓글 맨 아래 붙이기
         replyComment();
      }

      let replyBtnFlag=0;
      //댓글 보기 버튼 클릭
      $(document).on("click", ".replyBtn", function(){
        //$(allReply).empty();
        $(replyContainer).empty();
        replyContainer = $(this).next();//댓글이 들어갈 위치
        bNo=$(this).attr("bno")
            $.ajax({
                url:"/listReply?&bNo="+bNo,
                async: false,
                success:function(data1){
                    $.each(data1,function(){
                         boardReplyAdd(this, bNo);
                    })
                }
            })
            replyComment();
      })

      //게시글 등록 및 이미지 업로드 부분
      $('#boardWriteBtn').click(function( ) {
         var formData = new FormData();
         var inputFile = $("input[type='file']");
         var files = inputFile[0].files;

         //formData를 객체와 String을 각기 다른 타입을 파라미터로 넘길건데, type을 다르게 주기 위해 Blob을 사용
         for (var i = 0; i < files.length; i++) {
            //console.log(files[i]);
            formData.append("uploadFiles", files[i]);                         //업로드 정보(MultipartFile 타입)
            formData.append("bImg", files[i]);                               //업로드 정보(MultipartFile 타입)
         }
         var boardText = $("#boardWriteInput").val();;
         formData.append("fileImg", files[i]);                                      // 업로드 파일명
         formData.append("boardText", boardText);                                   // 본문내용
         formData.append("datetimepicker1Input", $("#datetimepicker1Input").val())  // 모임 날짜
         formData.append("placeInput",$("#placeInput").val())                       // 장소
         formData.append("currentid", currentid);
         $.ajax({
            type: "POST",
            url: "/insertBoardWrite",
            // data: boardWriteCondition,
            data: formData,
            processData: false,
            async: false,
            //contentType: "application/json",
            contentType: false, //false로 해야 전송 됌
            beforeSend: function (jqXHR, settings) {
               let header = $("meta[name='_csrf_header']").attr("content");
               let token = $("meta[name='_csrf']").attr("content");
               jqXHR.setRequestHeader(header, token);
            },
            dataType:'json',
            success: function (data) {
               alert("게시물을 등록하였습니다.");
               $.ajax({
                  url:"/listBoardAllCno",
                  async: false,
                  success:function(data){
                     $.each(data['content'],function(){
                        boardContentAdd(this);
                     })
                  }
               })

            },
            error: function(jqXHR, textStatus, errorThrown){
              console.log(textStatus);
            }
         }); // end ajax
      }) // end func
   })
   </script>
   <body>
      <!-- Navigation -->
      <nav class="navbar navbar-expand navbar-dark bg-dark osahan-nav-top p-0">
         <div class="container" >
            <a class="navbar-brand mr-2" href="/matchBoard"><img src="img/logo.svg" alt="">
            </a>
            <ul class="navbar-nav ml-auto d-flex align-items-center">

               <a class="nav-link" href="/insertMatchBoard"><i class="feather-briefcase mr-2"></i><span class="d-none d-lg-inline">매치등록</span></a>
               <a class="nav-link" href="/matchBoard"><i class="feather-briefcase mr-2"></i><span class="d-none d-lg-inline">매치검색</span></a>
               <a class="nav-link" href="listClubAll3.html"><i class="feather-briefcase mr-2"></i><span class="d-none d-lg-inline">동호회검색</span></a>
               <a class="nav-link" href="/insertClub"><i class="feather-briefcase mr-2"></i><span class="d-none d-lg-inline">동호회생성</span></a>
               <li class="nav-item dropdown no-arrow ml-1 osahan-profile-dropdown">
                  <a class="nav-link dropdown-toggle pr-0" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                     <img class="img-profile rounded-circle" src="img/p13.png">
                  </a>
                  <div class="dropdown-menu dropdown-menu-right shadow-sm">
                     <div class="p-3 d-flex align-items-center">
                        <div class="dropdown-list-image mr-3">
                           <img class="rounded-circle" src="img/user.png" alt="">
                           <div class="status-indicator bg-success"></div>
                        </div>
                        <div class="font-weight-bold">
                           <div class="text-truncate" id="loginnickname"></div>
                           <div class="small text-gray-500" id="loginid" ></div>

                        </div>
                     </div>
                     <div class="dropdown-divider"></div>
                     <a class="dropdown-item" href="edit-profile.html"><i class="feather-edit mr-1"></i> 프로필 변경</a>
                     <div class="dropdown-divider"></div>
                     <a class="dropdown-item" href="/logout"><i class="feather-log-out mr-1"></i> Logout</a>
                  </div>
               </li>

            </ul>
         </div>
      </nav>

      <div class="bg-white shadow-sm border-bottom">
         <div class="container">
            <div class="row">
               <div class="col-md-12">
                  <div class="d-flex align-items-center py-3">
                     <div class="profile-left">
                        <h5 class="font-weight-bold text-dark mb-1 mt-0">환영합니다.</h5>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="pb-4 pt-3">
         <div class="container">
            <div class="row">
               <!-- Main Content -->
               <main class="col col-xl-6 order-xl-2 col-lg-12 order-lg-1 col-md-12 col-sm-12 col-12">
                  <div class="box shadow-sm rounded bg-white mb-3 overflow-hidden">
                     <ul class="nav border-bottom osahan-line-tab" id="myTab" role="tablist">
                        <li class="nav-item">
                           <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">동호회</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">게시글</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link" id="member-tab" data-toggle="tab" href="#reviews" role="tab" aria-controls="reviews" aria-selected="false">동호회원</a>
                        </li>
<!--                        <li class="nav-item">-->
<!--                           <a class="nav-link" id="memberControl-tab" data-toggle="tab" href="#memberControl" role="tab" aria-controls="type" aria-selected="false">동호회관리</a>-->
<!--                        </li>-->
                     </ul>
                  </div>
                  <!-- 동호회 메인 -->
                  <div class="tab-content" id="myTabContent">
                     <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                        <div class="box shadow-sm border rounded bg-white mb-3">
                           <div class="box-title border-bottom p-3">
                              <h6 class="m-0">동호회 소개 글</h6>
                           </div>
                           <div class="box-body p-3">
                              <p class="mb-0 cIntro" id="cIntro">
                              </p>
                           </div>
                        </div>

                        <div class="box shadow-sm border rounded bg-white mb-3">
                           <div class="box-title p-3" >
                              <h6 class="m-0" style="display:inline-block">동호회 일정</h6>
                           </div>
                           <div id="calendarContainer"></div>

                        </div>

                        <div class="box shadow-sm border rounded bg-white mb-3">
                           <div class="box-title p-3" >
	                              <h6 class="m-0" style="display:inline-block">모든 일정</h6>
	                              <div class="btn-group" role="group" aria-label="Basic example" style="float: right">
			                        <button type="button" id="schMatch" class="btn btn-secondary" >경기일정</button>
			                        <button type="button" id="schMeet" class="btn btn-secondary" >행사일정</button>
			                     </div>
	                        </div>
		                        <table class="table table-striped" id="clubAllMatch">
		                        	<thead>
			                        	<tr>
			                        		<th scope="col">종류</th>
			                        		<th scope="col">날짜</th>
			                        		<th scope="col">내용</th>
                                            <th scope="col">장소/지역</th>
			                        		<th scope="col">상태</th>
		                        		</tr>
		                        	</thead>
		                        	<tbody id="scheduleTable"> 
		                       		</tbody>
								</table>
						</div>
                     </div>
                     <!-- 게시글 작성 -->
                     <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                               <div class="box shadow-sm border rounded bg-white mb-3 osahan-share-post" id="insertMainDiv">
                                  <div class="box-title p-3 border-bottom" role="group" aria-label="Basic example">
                                     <h6 class="m-0" style="display:inline-block">게시글 작성</h6>
                                     <div class="btn-group" role="group" aria-label="Basic example" style="float: right">
                                        <button type="button" id="schNomalAddBtn" class="btn btn-secondary" >게시글</button>
                                        <button type="button" id="schMeetAddBtn" class="btn btn-secondary" >행사 등록</button>
                                     </div>
                                  </div>
                                  <div class='input-group' id='datetimepicker1' data-td-target-input='nearest' data-td-target-toggle='nearest'>
                                     <input id='datetimepicker1Input' type='text' class='form-control' data-td-target='#datetimepicker1' placeholder="날짜를 입력하세요"/>
                                     <span class='input-group-text' data-td-target='#datetimepicker1' data-td-toggle='datetimepicker'>
                                        <span class='fa fa-solid fa-calendar'></span>
                                     </span>
                                  </div>
                               <input id='placeInput' type='text' class='form-control' placeholder="장소를 입력하세요" />


		                           <div class="p-3 d-flex align-items-center w-100" href="#">
		                              <div class="dropdown-list-image mr-3">
		                                 <img class="rounded-circle" src="img/user.png" alt="">
		                                 <div class="status-indicator bg-success"></div>
		                              </div>
		                              <div class="w-100">
		                                 <textarea placeholder="Write your thoughts..." class="form-control border-0 p-0 shadow-none" rows="1" id="boardWriteInput"></textarea>
		                              </div>
                                      <div class="w-100" id="imageAddDiv">
                                      </div>
		                           </div>

		                     <div class="border-top p-3 align-items-center">
                                <input type="file" multiple="multiple" id="uploadFiles" name="uploadFiles" >
		                        <div class="flex-shrink-1" style="float: right">
		                           <button type="submit" class="btn btn-primary btn-sm" id ="boardWriteBtn">게시글 작성</button>
		                        </div>
		                     </div>

                            </div>
                     </div>

                     <!-- 동호회 관리 -->
                     <div class="tab-pane fade" id="memberControl" role="tabpanel" aria-labelledby="memberControl-tab">
                        <main class="box shadow-sm rounded bg-white mb-3 osahan-share-post">
                           <div class="border rounded bg-white mb-3">
                              <div class="box-title border-bottom p-3">
                                 <h3 class="m-0 font-weight-normal">동호회수정</h3>
                              </div>
                              <div class="box-body p-3">
                                 <form class="js-validate" novalidate="novalidate">
                                    <!-- 동호회명-->
                                    <div class="row">
                                       <div class="col-sm-6 mb-2">
                                          <div class="js-form-message">
                                             <label class="form-label font-weight-bold">
                                                동호회명
                                                <span class="text-danger"> </span>
                                             </label>
                                             <div class="form-group">
                                                <input type="text" id="cNameUpdate" class="form-control">
                                             </div>
                                          </div>
                                       </div>

                                       <div class="col-sm-6 mb-2">
                                          <div class="js-form-message">
                                             <label class="form-label font-weight-bold">
                                                동호회 이미지
                                                <span class="text-danger"> </span>
                                             </label>
                                             <div class="mb-3">
                                                <input class="form-control" type="file" id="uploadFilesUpdate" name="uploadFiles">
                                             </div>

                                          </div>
                                       </div>
                                       <!-- End input 하고싶은말 -->
                                    </div>

                                    <!-- Input 종목 -->
                                    <div class="row">
                                       <div class="col-sm-12 mb-2">
                                          <div class="js-form-message">
                                             <label class="form-label font-weight-bold">
                                                종목 선택
                                                <span class="text-danger">*</span>
                                             </label>
                                             <div class="form-group">
                                                <select class="custom-select" id="cTypeUpdate">
                                                   <option value="축구" selected="">축구</option>
                                                   <option value="풋살">풋살</option>
                                                   <option value="농구">농구</option>
                                                   <option value="족구">족구</option>
                                                </select>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                    <!-- End Input 종목 -->

                                    <!-- Input 지역 -->
                                    <div class="row">
                                       <div class="col-sm-6 mb-2">
                                          <div class="js-form-message">
                                             <label class="form-label font-weight-bold">
                                                지역 선택
                                                <span class="text-danger">*</span>
                                             </label>
                                             <div class="form-group">
                                                <select class="custom-select" id="cLoc1Update">
                                                </select>
                                             </div>
                                          </div>
                                       </div>
                                       <div class="col-sm-6 mb-2">
                                          <div class="js-form-message">
                                             <label class="form-label font-weight-bold">
                                                세부지역 선택
                                                <span class="text-danger">*</span>
                                             </label>
                                             <div class="form-group">
                                                <select class="custom-select" id="cLoc2Update">

                                                </select>
                                             </div>
                                          </div>
                                       </div>
                                    </div>
                                    <!-- End Input 지역 -->

                                    <div class="row">
                                       <!-- input 하고싶은말 -->
                                       <div class="col-sm-12 mb-2">
                                          <div class="js-form-message">
                                             <label id="nameLabel" class="form-label font-weight-bold">
                                                하고 싶은말
                                                <span class="text-danger">*</span>
                                             </label>
                                             <div class="form-group">
                                                <textarea class="form-control" id="cIntroUpdate" rows="5"></textarea>
                                             </div>
                                          </div>
                                       </div>
                                       <!-- End input 하고싶은말 -->
                                    </div>
                                 </form>
                              </div>
                           </div>
                           <div class="mb-3 text-right">
                              <button type="button" class="btn btn-danger" id="cancel"> &nbsp;&nbsp;&nbsp;&nbsp; 취소 &nbsp;&nbsp;&nbsp;&nbsp;</button>
                              <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#insertClubModal" id="insertClub" style="float:right">
                                 동호회 수정
                              </button>
                              <!-- Modal -->
                              <div class="modal fade" id="insertClubModal" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="insertClubLabel" aria-hidden="true">
                                 <div class="modal-dialog" role="document">
                                    <div class="modal-content">
                                       <div class="modal-header">
                                          <h5 class="modal-title" id="insertClubLabel">동호회 수정</h5>
                                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                             <span aria-hidden="true">&times;</span>
                                          </button>
                                       </div>
                                       <div class="modal-body">
                                          정말 수정 하시겠습니까?
                                       </div>
                                       <div class="modal-footer">
                                          <button type="button" class="btn btn-secondary" data-dismiss="modal" >취소</button>
                                          <button type="button" class="btn btn-primary" id="insertClubBtn">수정</button>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </main>
                     </div>

                     <!-- 동호회원 -->
                     <div class="tab-pane fade" id="reviews" role="tabpanel" aria-labelledby="type-tab">
                        <div class="box shadow-sm border rounded bg-white mb-3" >
                           <div class="box-title border-bottom p-3">
                              <h6 class="m-0">동호회원 목록</h6>
                           </div>
                           <div class="box-body p-3" id="clubMemberListPrint">
                              <div id="retro-comments">

                              </div>
                           </div>
                        </div>
                     </div>
                  </div>
               </main>
               <aside class="col col-xl-3 order-xl-1 col-lg-6 order-lg-2 col-md-6 col-sm-6 col-12">
                  <div class="box mb-3 shadow-sm border rounded bg-white profile-box text-center">
                     <div class="p-4" id="cImg">
                     </div>
                     <!-- 동호회 소개 글 -->
                     <div class="p-3 border-top border-bottom">
                        <h6 class="font-weight-bold text-dark mb-1 mt-0" id="cName"></h6>
                     </div>
                     <div class="p-3">
                        <div class="d-flex align-items-top mb-2">
                           <p class="mb-0 text-dark font-weight-bold">활동지역</p>
                           <p class="font-weight-bold text-info mb-0 mt-0 ml-auto" id="cLoc1"></p>
                        </div>
                        <div class="d-flex align-items-top mb-2">
                           <p class="mb-0 text-dark font-weight-bold">회원 수</p>
                           <p class="font-weight-bold text-info mb-0 mt-0 ml-auto" id="memberCount"></p>
                        </div>

                        <div class="d-flex align-items-top mb-2">
                           <p class="mb-0 text-dark font-weight-bold">경기이력</p>
                           <p class="font-weight-bold text-info mb-0 mt-0 ml-auto" id="winDrawLose"></p>
                        </div>

                        <div class="d-flex align-items-top mb-2">
                           <p class="mb-0 text-dark font-weight-bold">동호회장</p>
                           <p class="font-weight-bold text-info mb-0 mt-0 ml-auto cName" id="cid"></p>
                        </div>
                     </div>
                  </div>
                  <button id="clubSetting" style="border:none;background:0;float:right"><img src="img/setting.png" style="width:15px;height:15px" alt="">동호회 관리</button>
                  <!-- Button trigger modal -->
                  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#clubOutModal" id="clubOutBtn" style="float:right">
                     동호회 탈퇴
                  </button>
                  <!-- Modal -->
                  <div class="modal fade" id="clubOutModal" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="clubOutLabel" aria-hidden="true">
                     <div class="modal-dialog" role="document">
                        <div class="modal-content">
                           <div class="modal-header">
                              <h5 class="modal-title" id="clubOutLabel">동호회 탈퇴</h5>
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                 <span aria-hidden="true">&times;</span>
                              </button>
                           </div>
                           <div class="modal-body">
                              정말 탈퇴 하시겠습니까?
                           </div>
                           <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-dismiss="modal" >취소</button>
                              <button type="button" class="btn btn-primary" id="clubOut">탈퇴</button>
                           </div>
                        </div>
                     </div>
                  </div>

                  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#clubJoinModal" id="clubJoinBtn" style="float:right">
                     동호회 가입
                  </button>
                  <!-- Modal -->
                  <div class="modal fade" id="clubJoinModal" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="clubJoinLabel" aria-hidden="true">
                     <div class="modal-dialog" role="document">
                        <div class="modal-content">
                           <div class="modal-header">
                              <h5 class="modal-title" id="clubJoinLabel">동호회 가입</h5>
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                 <span aria-hidden="true">&times;</span>
                              </button>
                           </div>
                           <div class="modal-body">
                              정말 가입 하시겠습니까?
                           </div>
                           <div class="modal-footer">
                              <button type="button" class="btn btn-secondary" data-dismiss="modal" >취소</button>
                              <button type="button" class="btn btn-primary" id="clubJoin">가입</button>
                           </div>
                        </div>
                     </div>
                  </div>
               </aside>

            </div>
         </div>
      </div>
      <!-- Bootstrap core JavaScript -->
      <script src="vendor/jquery/jquery.min.js"></script>
      <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
      <!-- slick Slider JS-->
      <script type="text/javascript" src="vendor/slick/slick.min.js"></script>
      <!-- Custom scripts for all pages-->
      <script src="js/osahan.js"></script>
   </body>
</html>
